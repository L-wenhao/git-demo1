package com.csii.meter.console.utils;import com.github.pagehelper.PageInfo;import java.util.ArrayList;import java.util.List;/** * 分页工具 * * @author guoyu * @version 1.0 * @date 2021/9/24 11:32 上午 */public class PageUtils {    /**     * list转换为分页对象     * 处理查询分页     * 场景：当一个list带出所有数据，前端展示需要部分分页数据     * @param list     * @return     */    public static <T> PageInfo<T> list2Page(int pageNum, int pageSize, List<T> list){        PageInfo<T> page = new PageInfo<>();        page.setPageNum(pageNum);        page.setPageSize(pageSize);        Integer count = list.size(); // 记录总数        List subList = new ArrayList();        if (count > 0) {            Integer pageCount = 0; // 页数            if (count % pageSize == 0) {                pageCount = count / pageSize;            } else {                pageCount = count / pageSize + 1;            }            int fromIndex = 0; // 开始索引            int toIndex = 0; // 结束索引            if (pageNum != pageCount) {                fromIndex = (pageNum - 1) * pageSize;                toIndex = fromIndex + pageSize;            } else {                fromIndex = (pageNum - 1) * pageSize;                toIndex = count;            }            subList = list.subList(fromIndex, toIndex);            page.setList(subList);            page.setTotal(count);            page.setPages(pageCount);            if(!subList.isEmpty()){                page.setSize(subList.size());            }        }        return page;    }}